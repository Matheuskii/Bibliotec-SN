<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel Admin - BiblioTec</title>
    <link rel="stylesheet" href="./css/Inicio.css">
    <link rel="stylesheet" href="./css/Admin.css">

    <script>
        // Pega o perfil do usu√°rio logado.
        const perfil = localStorage.getItem("perfilUsuario");
        // Verifica se √© Admin. Se n√£o for, chuta para o login.
        if (!perfil || perfil !== 'Admin') {
            alert("Acesso restrito a Administradores.");
            window.location.href = "Login.html";
        }
    </script>
</head>
<body>
    <div class="admin-container">
        <aside class="sidebar">
            <div class="sidebar-header">
                <img src="./images/LogoBibliotec.png" alt="Logo" class="admin-logo">
                <h3>Admin Panel</h3>
            </div>
            <nav class="sidebar-nav">
                <a href="#" class="nav-link active" onclick="mostrarSecao('livros')">üìö Livros (RF04)</a>
                <a href="#" class="nav-link" onclick="mostrarSecao('alunos')">üéì Alunos (RF01)</a>
                <a href="#" class="nav-link" onclick="mostrarSecao('reservas')">üìÖ Reservas (RF06)</a>
                <a href="Inicio.html" style="margin-top: 20px;">üè† Ver Site</a>
                <a href="#" id="btnSairAdmin" style="color: #ff6b6b; margin-top: auto;">üö™ Sair</a>
            </nav>
        </aside>

        <main class="main-content">
            <header class="top-bar">
                <h2 id="tituloSecao">Gerenciar Livros</h2>
                <div class="user-info">
                    <span id="adminNome">Administrador</span>
                </div>
            </header>

            <!-- Se√ß√£o de Livros -->
            <section id="secao-livros" class="content-section">
                <div class="actions-bar">
                    <input type="text" id="buscaLivro" placeholder="Filtrar por nome, categoria ou autor (RN03)..." class="search-admin">
                    <button class="btn-novo" onclick="abrirModalLivro()">+ Novo Livro</button>
                </div>
                <div class="table-responsive">
                    <table class="tabela-admin">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Capa</th>
                                <th>T√≠tulo (RN09)</th>
                                <th>Autor (RN09)</th>
                                <th>Status (RN11)</th>
                                <th>A√ß√µes</th>
                            </tr>
                        </thead>
                        <tbody id="tabelaLivrosBody">
                            <tr>
                                <td colspan="6" style="text-align: center; padding: 20px;">Carregando livros...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Se√ß√£o de Alunos -->
            <section id="secao-alunos" class="content-section" style="display: none;">
                <div class="actions-bar">
                    <input type="text" id="buscaAluno" placeholder="Buscar aluno..." class="search-admin">
                    <button class="btn-novo" onclick="abrirModalAluno()">+ Novo Aluno</button>
                </div>
                <div class="table-responsive">
                    <table class="tabela-admin">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Nome (RN07)</th>
                                <th>Email (RN07)</th>
                                <th>Curso (RN07)</th>
                                <th>Celular</th>
                                <th>A√ß√µes</th>
                            </tr>
                        </thead>
                        <tbody id="tabelaAlunosBody">
                            <tr>
                                <td colspan="6" style="text-align: center; padding: 20px;">Carregando alunos...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Se√ß√£o de Reservas -->
            <section id="secao-reservas" class="content-section" style="display: none;">
                <div class="actions-bar">
                    <input type="text" id="buscaReserva" placeholder="Buscar reserva..." class="search-admin">
                </div>
                <div class="table-responsive">
                    <table class="tabela-admin">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Aluno</th>
                                <th>Livro</th>
                                <th>Retirada (RN10)</th>
                                <th>Devolu√ß√£o (RN10)</th>
                                <th>Confirmado?</th>
                                <th>A√ß√µes</th>
                            </tr>
                        </thead>
                        <tbody id="tabelaReservasBody">
                            <tr>
                                <td colspan="7" style="text-align: center; padding: 20px;">Carregando reservas...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>
        </main>
    </div>

    <!-- Modal Livro -->
    <div id="modalLivro" class="modal-overlay" style="display: none;">
        <!-- Mantenha o conte√∫do do modal igual -->
    </div>

    <!-- Modal Aluno -->
    <div id="modalAluno" class="modal-overlay" style="display: none;">
        <!-- Mantenha o conte√∫do do modal igual -->
    </div>

    <script src="./JS/Admin.js" type="module"></script>
</body>
</html>