<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>BiblioTec - In√≠cio</title>
  <link rel="stylesheet" href="./css/Inicio.css" />
  <script>
    if (localStorage.getItem('darkMode') !== 'false') {
      document.documentElement.classList.add('dark-mode');
    }
  </script>
</head>

<body>
  <header>
    <img class="logo" src="./images/LogoBibliotec.png" alt="Logo BiblioTec">
    <h1>BIBLIO TEC</h1>
    <button class="dark-mode-toggle" id="dark-mode-btn" title="Modo escuro">üåô</button>
  </header>

  <nav>
    <a href="./catalogo.html">Cat√°logo</a>
    <a href="./favoritos.html">Favoritos</a>
    <a href="./login.html" class="login-link">Login</a>

  </nav>

  <div class="search-container">
    <input type="text" class="search-bar" placeholder="Pesquisar..." />
    <span class="search-icon"> <img src="images/Lupa.png" alt="√çcone de lupa para pesquisa"></span>
  </div>

  <section>
    <div class="section-header">
      <h2>Mais Vendidos</h2>
    </div>
    <div class="books-container">
      <div class="carousel-wrapper">
        <button class="arrow-left" id="left-vendidos">‚óÄ</button>
        <div class="books-grid" id="vendidos"></div>
        <button class="arrow-right" id="right-vendidos">‚ñ∂</button>
      </div>
    </div>
  </section>

  <section>
    <div class="section-header">
      <h2>Ofertas</h2>
    </div>
    <div class="books-container">
      <div class="carousel-wrapper">
        <button class="arrow-left" id="left-ofertas">‚óÄ</button>
        <div class="books-grid" id="ofertas"></div>
        <button class="arrow-right" id="right-ofertas">‚ñ∂</button>
      </div>
    </div>
  </section>

  <script type="module">
    import { criarCarrossel } from "./JS/Estrutura.js";
    import { initDarkMode } from "./JS/DarkMode.js";

    initDarkMode();
    criarCarrossel("vendidos", "#left-vendidos", "#right-vendidos");
    criarCarrossel("ofertas", "#left-ofertas", "#right-ofertas");
  </script>

  <script>
    // Inicializar dark mode antes de qualquer coisa
    (function () {
      const darkModeBtn = document.getElementById('dark-mode-btn');
      const htmlElement = document.documentElement;

      // Padr√£o: modo escuro ativado
      const isDarkMode = localStorage.getItem('DarkMode') !== 'false';

      if (isDarkMode) {
        htmlElement.classList.add('dark-mode');
        if (darkModeBtn) DarkModeBtn.textContent = '‚òÄÔ∏è';
      }

      // Listener para o bot√£o
      if (darkModeBtn) {
        darkModeBtn.addEventListener('click', function (e) {
          e.preventDefault();
          const isCurrentlyDark = htmlElement.classList.contains('dark-mode');

          if (isCurrentlyDark) {
            htmlElement.classList.remove('dark-mode');
            darkModeBtn.textContent = 'üåô';
            localStorage.setItem('DarkMode', 'false');
          } else {
            htmlElement.classList.add('dark-mode');
            darkModeBtn.textContent = '‚òÄÔ∏è';
            localStorage.setItem('DarkMode', 'true');
          }
        });
      }
    })();
  </script>
  <script type="module" src="./JS/DarkMode.js" defer></script>
</body>

</html>