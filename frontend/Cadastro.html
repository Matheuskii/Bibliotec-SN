<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <!-- âœ… PRIMEIRO: anti-flash script, ANTES de qualquer CSS -->
  <script>
    if (localStorage.getItem('DarkMode') !== 'false') {
      document.documentElement.classList.add('dark-mode');
    }
  </script>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BiblioTec - Cadastro</title>
  <link rel="stylesheet" href="/css/global.css">
  <link rel="stylesheet" href="/css/Cadastro.css">
  <link rel="stylesheet" href="/css/Toast.css">
  <script src="/JS/toast.js" defer></script>
  <script type="module" src="/JS/telas_forms.js" defer></script>
</head>

<body>
  <div id="toast-box"></div>

  <header>
    <img class="logo" src="/images/Logo-Bibliotec.png" alt="Logo BiblioTec">
    <h1>BIBLIO TEC</h1>
    <button class="dark-mode-toggle" id="dark-mode-btn" title="Modo escuro">ğŸŒ™</button>
  </header>

  <main class="login-container">
    <form id="cadastroForm">
      <input type="text"     id="nome"           placeholder="Nome Completo"              class="input-field" required>
      <input type="email"    id="email"           placeholder="E-mail Institucional"       class="input-field" required>

      <label for="dataNascimento">Data de Nascimento</label>
      <input type="date"     id="dataNascimento"                                           class="input-field" required>

      <input type="text"     id="curso"           placeholder="Curso TÃ©cnico (Ex: DS)"    class="input-field" required>
      <input type="tel"      id="celular"         placeholder="Celular (somente nÃºmeros)" class="input-field" required>
      <input type="password" id="senha"           placeholder="Crie uma senha"            class="input-field" required>
      <input type="password" id="confirmarSenha"  placeholder="Confirme sua senha"        class="input-field" required>

      <button type="submit" class="btn-cadastro2">Cadastrar</button>
      <p class="login-link">JÃ¡ possui conta? <a href="./Login.html">FaÃ§a login</a></p>
    </form>
  </main>

  <!-- Modal de verificaÃ§Ã£o de e-mail -->
  <div id="modalVerificacao" class="modal-overlay" style="display: none;">
    <div class="modal-content">
      <h3>ğŸ“§ Verifique seu E-mail</h3>
      <p>Enviamos um cÃ³digo para: <strong id="emailDisplay"></strong></p>
      <input type="text" id="codigoInput" placeholder="Ex: 123456" maxlength="6">
      <button onclick="confirmarCodigo()">Confirmar Cadastro</button>
      <p style="margin-top:15px; font-size:12px; cursor:pointer; color:red;"
         onclick="document.getElementById('modalVerificacao').style.display='none'">
        Fechar / Corrigir E-mail
      </p>
    </div>
  </div>

  <!-- Dark mode toggle â€” sÃ³ controla o botÃ£o, a classe jÃ¡ foi aplicada no <head> -->
  <script>
    (function () {
      const btn = document.getElementById('dark-mode-btn');
      if (!btn) return;

      // Sincroniza o Ã­cone com o estado atual
      btn.textContent = document.documentElement.classList.contains('dark-mode') ? 'â˜€ï¸' : 'ğŸŒ™';

      btn.addEventListener('click', function () {
        const isDark = document.documentElement.classList.toggle('dark-mode');
        btn.textContent = isDark ? 'â˜€ï¸' : 'ğŸŒ™';
        localStorage.setItem('DarkMode', isDark ? 'true' : 'false');
      });
    })();
  </script>
</body>
</html>